<html>
<head>
<style>
    .controls {
        width: 11.7em;
        float: left;
        display: block;
        margin-left: 1em;
        margin-right: 1em;
    }

    .separator {
        clear: both;
    }

    fieldset {
        border: 0px;
    }

    .status-label {
        font-size: 14pt;
    }

    .costs-label {
        font-size: 10pt;
    }

    .info-label {
        width: 5.5em;
        text-align: left;
        display: inline-block;
    }

    #oceanbox {
        width: 800px;
        float: left;
        display: block;
        margin-left: auto;
        margin-right: auto;
    }

    #controlbox {
        width: 800px;
        float: left;
        display: block;
        margin-left: auto;
        margin-right: auto;
    }

    #costsbox {
        width: 200px;
        float: left;
        display: block;
    }

    #infobox {
        width: 600px;
        float: left;
        display: block;
    }

    .red {
        color: red;
        font-weight: bold;
    }

    .blue {
        color: darkblue;
        font-weight: normal;
    }

    .black {
        color: black;
        font-weight: normal;
    }

    .gray {
        color: darkgray;
        font-weight: normal;
    }

    .bold {
        font-weight:bold;
    }

    .nodisplay {
        display: none;
    }

</style>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script src="/socket.io/socket.io.js"></script>
<script type="text/javascript" charset="utf-8" src="localization.js"></script>
<script language="JavaScript">

    function getURLParameter(name) {
        return decodeURI(
                (RegExp(name + '=' + '(.+?)(&|$)').exec(location.search)||[,null])[1]
        );
    }

    var group = getURLParameter("gid");
    var pid = getURLParameter("pid");
    console.log("Group: " + group);
    console.log("Participant ID: " + pid);

    var lang = getURLParameter("lang").toLowerCase();
    var messages;
    if (lang != "" && lang in langs) {
        messages = langs[lang];
    } else {
        messages = langs['en'];
        lang = "en";
    }

    var socket = io.connect();
    var gameSettings = null;
    var id = null;
    var agents = null;
    var loop;
    var cCanvas;
    var cContext;
    var oCanvas;
    var oContext;
    var iCanvas;
    var iContext;
    var sailingAllowed = false;
    var fishingAllowed = false;
    var returningAllowed = false;
    var pausable = false;
    var unpausable = false;
    var readRules = false;
    var seconds;
    var fullroom = false;

    var fishImage = new Image();
    var mysteryFishImage = new Image();
    var underwater = new Image();
    fishImage.src = "certain-fish.png";
    mysteryFishImage.src = "mystery-fish.png";
    underwater.src = "underwater.jpg";

    socket.on("connect", function (data) {
        socket.emit("join group", group, pid);
    });

    socket.on('gamesettings', function (gs) {
        console.log(gs);
        updateGameSettings(gs);
    });

    socket.on('fullroom', function (group) {
        console.log("The room was full.");
        fullroom = true;
    })

    socket.on('myID', function (myID) {
        console.log(myID);
        id = myID;
    });

    socket.on('myGroup', function (myGroup) {
        console.log(myGroup);
        group = myGroup;
    });

    socket.on('begin', function (data) {
        console.log('Begin simulation.');
        sailingAllowed = true;
        pausable = true;
        updateGameSettings(data);
    });

    socket.on('readying', function (data) {
        console.log('readying');
        sailingAllowed = false;
        fishingAllowed = false;
        updateGameSettings(data);
    });

    socket.on('endseason', function (data) {
        console.log('Current season ended.');
        sailingAllowed = false;
        fishingAllowed = false;
        returningAllowed = false;
        updateGameSettings(data);
    });

    socket.on('gameover', function (data) {
        console.log('Simulation over.');
        sailingAllowed = false;
        fishingAllowed = false;
        returningAllowed = false;
        updateGameSettings(data);
    });

    socket.on('paused', function (data) {
        console.log("Simulation paused by user: " + data.id);
        pausable = false;
        if (id == data.id) {
            unpausable = true;
        }
        pauseMode("resume");
    });

    socket.on('resumed', function (data) {
        console.log("Simulation resumed by user: " + data.id);
        pausable = true;
        unpausable = false;
        pauseMode("pause");
    });

    var pauseMode = function(mode) {
        if (mode == "pause") {
            $("#pause").val(messages['buttons_pause']);
            $("#pause").click(pauseClick);

        } else {
            $("#pause").val(messages['buttons_resume']);
            $("#pause").click(unpauseClick);
        }
    }

    var updateGameSettings = function(gs) {
        gameSettings = gs;
        displayCosts();
        buttonEnabler();
    }

    var buttonEnabler = function() {
        if (sailingAllowed && gameSettings != null && gameSettings.status != "paused") {
            $("#tosea").removeAttr("disabled");
        } else {
            $("#tosea").attr("disabled", "disabled");
        }

        if (fishingAllowed && gameSettings != null && gameSettings.status != "paused" &&
                gameSettings.certainFish + gameSettings.actualMysteryFish > 0) {
            $("#castfish").removeAttr("disabled");
        } else {
            $("#castfish").attr("disabled", "disabled");
        }

        if (returningAllowed && gameSettings != null && gameSettings.status != "paused") {
            $("#toport").removeAttr("disabled");
        } else {
            $("#toport").attr("disabled", "disabled");
        }

        if (readRules || gameSettings == null) {
            $("#readrules").attr("disabled", "disabled");
            $("#readrules").hide();
        } else {
            $("#readrules").removeAttr("disabled");
            $("#readrules").show();
        }

        if (pausable && gameSettings != null && gameSettings.pauseEnabled) {
            $("#pause").removeAttr("disabled");
        } else if (unpausable && gameSettings != null && gameSettings.pauseEnabled) {
            $("#pause").removeAttr("disabled");
        } else {
            $("#pause").attr("disabled", "disabled");
        }
    }

    var goToSeaClick = function() {
        socket.emit("toSea", {id: id});
        sailingAllowed = false;
        fishingAllowed = true;
        returningAllowed = true;
    }

    var returnToPortClick = function() {
        socket.emit("toPort", {id: id});
        sailingAllowed = true;
        fishingAllowed = false;
        returningAllowed = false;
    }

    var castForFishClick = function() {
        if (gameSettings.certainFish + gameSettings.actualMysteryFish <= 1) {
            fishingAllowed = false;
        }
        socket.emit("fishing", {id: id});
    }

    var readRulesClick = function() {
        // TODO - waiting for other players message
        readRules = true;
        gameSettings.players[id].readRules = true;
        socket.emit("readRules", {id: id});
    }

    var pauseClick = function() {
        socket.emit("pauseRequest", {id: id});
    }

    var unpauseClick = function() {
        socket.emit("resumeRequest", {id: id});
    }

    var displayCosts = function() {
        if (gameSettings != null) {
            $("#fish-value").text(messages['costs_fishValue'] + " " + gameSettings.currencySymbol + gameSettings.valueFish);
            if (gameSettings.costCast > 0) {
                $("#cost-cast").text(messages['costs_costCast'] + " " + gameSettings.currencySymbol + gameSettings.costCast);
            }
            if (gameSettings.costAtSea > 0) {
                $("#cost-second").text(messages['costs_costSecond'] + " " + gameSettings.currencySymbol + gameSettings.costAtSea);
            }
            if (gameSettings.costDepart > 0) {
                $("#cost-leave").text(messages['costs_costLeave'] + " " + gameSettings.currencySymbol + gameSettings.costDepart);
            }
        }
    }

    var displayStatus = function() {
        if (gameSettings == null && !fullroom) {
            $("#status-box").addClass("blue");
            $("#status-box").text(messages['status_wait']);
        } else if (fullroom) {
            $("#status-box").addClass("blue");
            $("#status-box").text(messages['status_full']);
        } else if (gameSettings != null && gameSettings.status == "readying") {
            $("#status-box").addClass("red");
            $("#status-box").text(messages['status_getReady']);
        } else if (gameSettings != null && gameSettings.status == "running") {
            minFish = gameSettings.certainFish;
            maxFish = minFish + gameSettings.mysteryFish;
            $("#status-box").addClass("black");
            if (minFish == maxFish) {
                $("#status-box").text(messages['status_season'] + ' ' + gameSettings.currentSeason + ". " +
                        messages['status_fishMax'] + ' ' + minFish + " " + messages['status_fishRemaining']);
            } else {
                $("#status-box").text(messages['status_season'] + ' ' + gameSettings.currentSeason + ". " +
                        messages['status_fishBetween'] + ' ' + minFish + ' ' + messages['status_fishAnd'] + ' ' +
                        maxFish + " " + messages['status_fishRemaining']);
            }
        } else if (gameSettings != null && gameSettings.status == "resting") {
            $("#status-box").addClass("black");
            $("#status-box").text(messages['status_spawning'])
        } else if (gameSettings != null && gameSettings.status == "paused") {
            $("#status-box").addClass("gray");
            $("#status-box").text(messages['status_paused']);
        } else {
            // Other states (over, waiting) have an empty status box
            $("#status-box").text("");
        }
        displayWarning();
    }

    var displayWarning = function() {
        if (gameSettings != null && gameSettings.status == "running"
                && gameSettings.seasonDuration - gameSettings.currentSeconds < 10) {
            $("#warning-box").removeClass("blue");
            $("#warning-box").addClass("red");
            $("#warning-box").text("   " + messages['warning_seasonEnd']);
        } else if (gameSettings != null && gameSettings.status == "resting"
                && gameSettings.restDuration - gameSettings.currentSeconds < 5) {
            $("#warning-box").removeClass("red");
            $("#warning-box").addClass("blue");
            $("#warning-box").text("   " + messages['warning_seasonStart']);
        } else {
            $("#warning-box").text("");
        }
    }

    var displayInfo = function() {
        if (gameSettings != null && gameSettings.status != "waiting" && gameSettings.status != "readying") {
            var currentFisher = 2;
            var $image;
            for (i = 0; i < gameSettings.players.length; i++) {
                if (gameSettings.players[i].name == pid) {
                    // Found the record that corresponds to this player. Display it first.
                    $("#f1-name").text(messages['info_you']);
                    $image = $("#f1-status").children("img");
                    if (gameSettings.players[i].status == "At port") {
                        if ($image.attr("src") != "anchor.png") {
                            $image.attr("src", "anchor.png");
                        }
                    } else {
                        if ($image.attr("src") != "world.png") {
                            $image.attr("src", "world.png");
                        }
                    }
                    $("#f1-caught-season").text(gameSettings.players[i].fishCaughtPerSeason[gameSettings.currentSeason]);
                    $("#f1-caught-all").text(gameSettings.players[i].fishCaught);
                    $("#f1-profits-season").text(gameSettings.currencySymbol + (Math.round(gameSettings.players[i].endMoneyPerSeason[gameSettings.currentSeason] * 100)/100).toFixed(2));
                    $("#f1-profits-all").text(gameSettings.currencySymbol + (Math.round(gameSettings.players[i].money * 100)/100).toFixed(2));
                } else {
                    if (gameSettings.showOtherFishers) {
                        if (gameSettings.showFisherNames) {
                            $("#f" + currentFisher + "-name").text(gameSettings.players[i].name);
                        } else {
                            $("#f" + currentFisher + "-name").text("?????");
                        }
                        if (gameSettings.showFisherStatus) {
                            $image = $("#f" + currentFisher + "-status").children("img");
                            if (gameSettings.players[i].status == "At port") {
                                if ($image.attr("src") != "anchor.png") {
                                    $image.attr("src", "anchor.png");
                                }
                            } else {
                                if ($image.attr("src") != "world.png") {
                                    $image.attr("src", "world.png");
                                }
                            }
                        } else {
                            $("#f" + currentFisher + "-status").html('<img src="bullet_white.png">');
                        }
                        if (gameSettings.showFishCaught) {
                            $("#f" + currentFisher + "-caught-season").text(gameSettings.players[i].fishCaughtPerSeason[gameSettings.currentSeason]);
                            $("#f" + currentFisher + "-caught-all").text(gameSettings.players[i].fishCaught);
                        }
                        if (gameSettings.showBalance) {
                            $("#f" + currentFisher + "-profits-season").text(gameSettings.currencySymbol + (Math.round(gameSettings.players[i].endMoneyPerSeason[gameSettings.currentSeason] * 100)/100).toFixed(2));
                            $("#f" + currentFisher + "-profits-all").text(gameSettings.currencySymbol + (Math.round(gameSettings.players[i].money * 100)/100).toFixed(2));
                        }
                        currentFisher += 1;
                    }
                }
            }

            for (i = gameSettings.players.length + 1; i <= 13; i++) {
                $("#f" + i + "-status").addClass("nodisplay");
            }
        }
    }

    function drawFish(oContext, image, x, y) {
        oContext.drawImage(image, x, y, 50, 50);
    }

    function drawBackground(oContext, image, x1, y1, x2, y2) {
        oContext.drawImage(image, x1, y1, x2, y2);
    }

    function performanceReportText() {
        rep = messages['end_over'] + "\n\n";
        if (gameSettings.depleted) {
            rep += gameSettings.depletedText + "\n\n";
        } else {
            rep += gameSettings.endText + "\n\n";
        }
        rep += messages['end_caught'] + ' ' + gameSettings.players[id].fishCaught + " " + messages['end_fish'] + "\n";
        rep += messages['end_money'] + ' ' + gameSettings.currencySymbol + (Math.round(gameSettings.players[id].money * 100) /100).toFixed(2) + ".\n";
        return rep;
    }

    function writeTextblockInCanvas(ctx, txt, width, height) {
        var fitWidth = width;
        var lineHeight = height;
        var lines = txt.split('\n');
        var currentLine = 0;
        for (i = 0; i < lines.length; i++) {
            var words = lines[i].split(' ');
            var idx = 1;
            while (words.length > 0 && idx <= words.length) {
                var str = words.slice(0, idx).join(' ');
                var w = ctx.measureText(str).width;
                if ( w > fitWidth ) {
                    if (idx==1) {
                        idx=2;
                    }
                    ctx.fillText( words.slice(0, idx-1).join(' '), 20, 60 + (lineHeight*currentLine) );
                    currentLine++;
                    words = words.splice(idx-1);
                    idx = 1;
                } else {
                    idx++;
                }
            }
            if  (idx > 0) {
                ctx.fillText( words.join(' '), 20, 60 + (lineHeight*currentLine) );
                currentLine++;
            }
        }
    }

    function drawOcean() {
        oCanvas = document.getElementById("oceanCanvas");
        oContext = oCanvas.getContext("2d");
        displayStatus();
        displayInfo();

        // Readying mode --- show preparation text
        if (gameSettings != null && (gameSettings.status == "waiting" || gameSettings.status == "readying")) {
            oContext.fillStyle = "white";
            oContext.fillRect(0, 0, 800, 460);
            oContext.fillStyle = "black";
            oContext.font = "12px Courier";
            writeTextblockInCanvas(oContext, gameSettings.prepText, 760, 15);
        }

        // Over mode --- show performance report
        if (gameSettings != null && gameSettings.status == "over") {
            oContext.fillStyle = "white";
            oContext.fillRect(0, 0, 800, 460);
            oContext.fillStyle = "black";
            oContext.font = "14px Courier";
            writeTextblockInCanvas(oContext, performanceReportText(), 760, 15);
        }

        // Running, resting, or paused.
        if (gameSettings != null && (gameSettings.status == "running" || gameSettings.status == "resting" || gameSettings.status == "paused")) {
            drawBackground(oContext, underwater, 0, 0, 800, 460);
            for (fishSpot = 1; fishSpot <= gameSettings.certainFish + gameSettings.mysteryFish; fishSpot++) {
                drawFish(oContext, fishImage, gameSettings.fishSpots[fishSpot].x, gameSettings.fishSpots[fishSpot].y);
            }
        }
    }

    function clearOcean() {
        oCanvas = document.getElementById("oceanCanvas");
        oContext = oCanvas.getContext("2d");
        oContext.clearRect(0,0,800,460);
    }

    function drawAll() {
        clearOcean();
        drawOcean();
        loop = setTimeout('drawAll()', 1000);
    }

    var Main = function() {
        $("#tosea").val(messages['buttons_goToSea']);
        $("#toport").val(messages['buttons_return']);
        $("#castfish").val(messages['buttons_castFish']);
        $("#readrules").val(messages['buttons_goFishing']);
        $("#pause").val(messages['buttons_pause']);

        $("#fish_caught_header").text(messages['info_fishCaught']);
        $("#profits_header").text(messages['info_profits']);
        $("#fisher_header").text(messages['info_fisher']);
        $("#location_header").text(messages['info_location']);
        $("#fish_season_header").text(messages['info_season']);
        $("#fish_total_header").text(messages['info_overall']);
        $("#profits_season_header").text(messages['info_season']);
        $("#profits_total_header").text(messages['info_overall']);

        buttonEnabler();
        $("#tosea").click(goToSeaClick);
        $("#toport").click(returnToPortClick);
        $("#castfish").click(castForFishClick);
        $("#readrules").click(readRulesClick);
        $("#pause").click(pauseClick);
        drawAll();
    }

    $(document).ready(Main);

</script>

<title>FISH</title>
</head>

<body>
<div id="statusbox">
    <label class="status-label" id="status-box"></label>
    <label class="status-label" id="warning-box"></label>
</div>
<div class="separator">
</div>
<div id="oceanbox">
    <canvas id="oceanCanvas" width="800" height="460"></canvas>
</div>
<div id="infobox">
    <fieldset>
        <label class="info-label fisher-name-label"></label>
        <label class="info-label fisher-status-label"></label>
        <label id="fish_caught_header" class="bold info-label fish-caught-season-label"></label>
        <label class="info-label fish-caught-all-label"></label>
        <label id="profits_header" class="bold info-label profits-season-label"></label>
        <label class="info-label profits-all-label"></label>
        <div class="separator"></div>
        <label id="fisher_header" class="bold info-label fisher-name-label"></label>
        <label id="location_header" class="bold info-label fisher-status-label"></label>
        <label id="fish_season_header" class="bold info-label fish-caught-season-label"></label>
        <label id="fish_total_header" class="bold info-label fish-caught-all-label"></label>
        <label id="profits_season_header" class="bold info-label profits-season-label"></label>
        <label id="profits_total_header" class="bold info-label profits-all-label"></label>
        <div class="separator"></div>
        <label class="info-label fisher-name-label" id="f1-name"></label>
        <label class="info-label fisher-status-label" id="f1-status"><img src="bullet_white.png"></label>
        <label class="info-label fisher-caught-season-label" id="f1-caught-season"></label>
        <label class="info-label fisher-caught-all-label" id="f1-caught-all"></label>
        <label class="info-label profits-season-label" id="f1-profits-season"></label>
        <label class="info-label profits-all-label" id="f1-profits-all"></label>
        <div class="separator"></div>
        <label class="info-label fisher-name-label" id="f2-name"></label>
        <label class="info-label fisher-status-label" id="f2-status"><img src="bullet_white.png"></label>
        <label class="info-label fisher-caught-season-label" id="f2-caught-season"></label>
        <label class="info-label fisher-caught-all-label" id="f2-caught-all"></label>
        <label class="info-label profits-season-label" id="f2-profits-season"></label>
        <label class="info-label profits-all-label" id="f2-profits-all"></label>
        <div class="separator"></div>
        <label class="info-label fisher-name-label" id="f3-name"></label>
        <label class="info-label fisher-status-label" id="f3-status"><img src="bullet_white.png"></label>
        <label class="info-label fisher-caught-season-label" id="f3-caught-season"></label>
        <label class="info-label fisher-caught-all-label" id="f3-caught-all"></label>
        <label class="info-label profits-season-label" id="f3-profits-season"></label>
        <label class="info-label profits-all-label" id="f3-profits-all"></label>
        <div class="separator"></div>
        <label class="info-label fisher-name-label" id="f4-name"></label>
        <label class="info-label fisher-status-label" id="f4-status"><img src="bullet_white.png"></label>
        <label class="info-label fisher-caught-season-label" id="f4-caught-season"></label>
        <label class="info-label fisher-caught-all-label" id="f4-caught-all"></label>
        <label class="info-label profits-season-label" id="f4-profits-season"></label>
        <label class="info-label profits-all-label" id="f4-profits-all"></label>
        <div class="separator"></div>
        <label class="info-label fisher-name-label" id="f5-name"></label>
        <label class="info-label fisher-status-label" id="f5-status"><img src="bullet_white.png"></label>
        <label class="info-label fisher-caught-season-label" id="f5-caught-season"></label>
        <label class="info-label fisher-caught-all-label" id="f5-caught-all"></label>
        <label class="info-label profits-season-label" id="f5-profits-season"></label>
        <label class="info-label profits-all-label" id="f5-profits-all"></label>
        <div class="separator"></div>
        <label class="info-label fisher-name-label" id="f6-name"></label>
        <label class="info-label fisher-status-label" id="f6-status"><img src="bullet_white.png"></label>
        <label class="info-label fisher-caught-season-label" id="f6-caught-season"></label>
        <label class="info-label fisher-caught-all-label" id="f6-caught-all"></label>
        <label class="info-label profits-season-label" id="f6-profits-season"></label>
        <label class="info-label profits-all-label" id="f6-profits-all"></label>
        <div class="separator"></div>
        <label class="info-label fisher-name-label" id="f7-name"></label>
        <label class="info-label fisher-status-label" id="f7-status"><img src="bullet_white.png"></label>
        <label class="info-label fisher-caught-season-label" id="f7-caught-season"></label>
        <label class="info-label fisher-caught-all-label" id="f7-caught-all"></label>
        <label class="info-label profits-season-label" id="f7-profits-season"></label>
        <label class="info-label profits-all-label" id="f7-profits-all"></label>
        <div class="separator"></div>
        <label class="info-label fisher-name-label" id="f8-name"></label>
        <label class="info-label fisher-status-label" id="f8-status"><img src="bullet_white.png"></label>
        <label class="info-label fisher-caught-season-label" id="f8-caught-season"></label>
        <label class="info-label fisher-caught-all-label" id="f8-caught-all"></label>
        <label class="info-label profits-season-label" id="f8-profits-season"></label>
        <label class="info-label profits-all-label" id="f8-profits-all"></label>
        <div class="separator"></div>
        <label class="info-label fisher-name-label" id="f9-name"></label>
        <label class="info-label fisher-status-label" id="f9-status"><img src="bullet_white.png"></label>
        <label class="info-label fisher-caught-season-label" id="f9-caught-season"></label>
        <label class="info-label fisher-caught-all-label" id="f9-caught-all"></label>
        <label class="info-label profits-season-label" id="f9-profits-season"></label>
        <label class="info-label profits-all-label" id="f9-profits-all"></label>
        <div class="separator"></div>
        <label class="info-label fisher-name-label" id="f10-name"></label>
        <label class="info-label fisher-status-label" id="f10-status"><img src="bullet_white.png"></label>
        <label class="info-label fisher-caught-season-label" id="f10-caught-season"></label>
        <label class="info-label fisher-caught-all-label" id="f10-caught-all"></label>
        <label class="info-label profits-season-label" id="f10-profits-season"></label>
        <label class="info-label profits-all-label" id="f10-profits-all"></label>
        <div class="separator"></div>
        <label class="info-label fisher-name-label" id="f11-name"></label>
        <label class="info-label fisher-status-label" id="f11-status"><img src="bullet_white.png"></label>
        <label class="info-label fisher-caught-season-label" id="f11-caught-season"></label>
        <label class="info-label fisher-caught-all-label" id="f11-caught-all"></label>
        <label class="info-label profits-season-label" id="f11-profits-season"></label>
        <label class="info-label profits-all-label" id="f11-profits-all"></label>
        <div class="separator"></div>
        <label class="info-label fisher-name-label" id="f12-name"></label>
        <label class="info-label fisher-status-label" id="f12-status"><img src="bullet_white.png"></label>
        <label class="info-label fisher-caught-season-label" id="f12-caught-season"></label>
        <label class="info-label fisher-caught-all-label" id="f12-caught-all"></label>
        <label class="info-label profits-season-label" id="f12-profits-season"></label>
        <label class="info-label profits-all-label" id="f12-profits-all"></label>
        <div class="separator"></div>
        <label class="info-label fisher-name-label" id="f13-name"></label>
        <label class="info-label fisher-status-label" id="f13-status"><img src="bullet_white.png"></label>
        <label class="info-label fisher-caught-season-label" id="f13-caught-season"></label>
        <label class="info-label fisher-caught-all-label" id="f13-caught-all"></label>
        <label class="info-label profits-season-label" id="f13-profits-season"></label>
        <label class="info-label profits-all-label" id="f13-profits-all"></label>
    </fieldset>
</div>
<div class="separator">
</div>
<div id="controlbox">
    <fieldset>
        <input type="button" class="controls" id="tosea" value="Go to sea">
        <input type="button" class="controls" id="castfish" value="Cast for one fish">
        <input type="button" class="controls" id="toport" value="Return to port">
        <input type="button" class="controls" id="pause" value="Pause">
        <input type="button" class="controls" id="readrules" value="Go fishing!">
    </fieldset>
</div>
<div class="separator">
</div>
<div id="costsbox">
    <fieldset>
        <label class="costs-label" id="fish-value"></label>
        <br>
        <label class="costs-label" id="cost-cast"></label>
        <br>
        <label class="costs-label" id="cost-second"></label>
        <br>
        <label class="costs-label" id="cost-leave"></label>
    </fieldset>
</div>
</body>
</html>
